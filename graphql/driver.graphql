scalar Date @scalar(class: "Nuwave\\Lighthouse\\Schema\\Types\\Scalars\\Date")

input CreateDriverInput {
  name: String! @rules(apply: ["required"])
  fleet_id: ID! @rules(apply: ["required"])
  phone: String! @rules(apply: ["required", "unique:drivers,phone"])
  password: String! @rules(apply: ["required"]) @bcrypt
  email: String  @rules(apply: ["email", "unique:drivers,email"])
  license_no: String
  license_expires_on: Date
  avatar: String
  status: Boolean
}

input UpdateDriverInput {
  id: ID!
  name: String
  email: String
  phone: String
  fleet_id: ID
  license_no: String
  license_expires_on: Date
  avatar: String
  status: Boolean
}

input DriverLoginInput {
  emailOrPhone: String! @rules(apply: ["required"])
  password: String! @rules(apply: ["required"])
}

type DriverAuthPayload {
  access_token: String
  driver: Driver
}

type Driver {
  id: ID
  name: String
  email: String
  phone: String
  license_no: String
  license_expires_on: Date
  avatar: String
  status: Boolean
  fleet: Fleet! @belongsTo
  trips: [PartnerTrip] @hasMany
  vehicles: [Vehicle] @hasMany
}